<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Update Password | Totaline</title>
    <link rel="stylesheet" href="./assets/css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="./assets/css/custom-css/custom.css" />

    <!-- fonts  -->
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet" />

    <!-- Instrument Sans -->

    <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:ital,wght@0,400..700;1,400..700&display=swap"
        rel="stylesheet" />

    <!-- fontawesome pro  -->
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.2/css/all.css" />

    <!-- swiper slider  -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>

<body>
    <section class="update_password">
        <img src="./assets/imgs/password-bg.jpg" alt="bg image" class="bg-img">
        <div class="container">
            <div class="row justify-content-center align-items-center">
                <div class="col-md-6">
                    <div class="password-card position-relative z-index-1">
                        <form id="contactForm" class="contact_form" action="" method="POST"
                            onsubmit="validateForm(event)">
                            <div class="text-center">
                                <img src="./assets/imgs/logo.png" width="150" class="mb-4" alt="Logo Image">
                                <h4>Update your Password</h4>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="current-password">Current Password<span>*</span></label>
                                <input id="current-password" name="currentPassword" class="form_control" type="password"
                                    placeholder="Enter Old Password" required="">
                                <div class="error-message" id="current-password-error"></div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="new-password">New Password<span>*</span></label>
                                <input id="new-password" name="newPassword" class="form_control" type="password"
                                    placeholder="Enter New Password" required="">
                                <div class="error-message" id="new-password-error"></div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="confirm-password">Confirm New
                                    Password<span>*</span></label>
                                <input id="confirm-password" name="confirmPassword" class="form_control" type="password"
                                    placeholder="Confirm New Password" required="">
                                <div class="error-message" id="confirm-password-error"></div>
                            </div>

                            <div class="text-end">
                                <button id="submit-button" type="submit" class="btn btn_primary submit w-100 d-block"
                                    disabled>Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>

<!-- jQuery  -->
<script src="./assets/js/jQuery/jQuery.min.js"></script>

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<!-- custom js  -->
<script src="./assets/js/custom-js/custom.js"></script>

<!-- bootstrap js  -->
<script src="./assets/js/bootstrap/bootstrap.bundle.min.js"></script>


<style>

</style>
<script>
    function validateForm() {
        let currentPassword = document.getElementById('current-password').value;
        let newPassword = document.getElementById('new-password').value;
        let confirmPassword = document.getElementById('confirm-password').value;

        let currentPasswordError = document.getElementById('current-password-error');
        let newPasswordError = document.getElementById('new-password-error');
        let confirmPasswordError = document.getElementById('confirm-password-error');

        let isValid = true;

        // Clear previous errors
        currentPasswordError.style.display = 'none';
        newPasswordError.style.display = 'none';
        confirmPasswordError.style.display = 'none';

        // Placeholder for current password for validation purposes
        let actualCurrentPassword = "placeholderCurrentPassword"; // Replace this with the actual current password logic

        if (currentPassword !== actualCurrentPassword) {
            currentPasswordError.style.display = 'block';
            currentPasswordError.textContent = 'Does not match current password';
            isValid = false;
        }

        if (currentPassword === newPassword) {
            newPasswordError.style.display = 'block';
            newPasswordError.textContent = 'New password cannot be the same as the current password';
            isValid = false;
        }

        if (newPassword !== confirmPassword) {
            confirmPasswordError.style.display = 'block';
            confirmPasswordError.textContent = 'Does not match new password';
            isValid = false;
        }

        document.getElementById('submit-button').disabled = !isValid;
    }

    function setupEventListeners() {
        document.getElementById('current-password').addEventListener('input', validateForm);
        document.getElementById('new-password').addEventListener('input', validateForm);
        document.getElementById('confirm-password').addEventListener('input', validateForm);
    }

    document.addEventListener('DOMContentLoaded', function () {
        setupEventListeners();
    });
</script>

</html>